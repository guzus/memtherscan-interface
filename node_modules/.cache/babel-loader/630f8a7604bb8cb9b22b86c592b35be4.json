{"ast":null,"code":"import _slicedToArray from\"/Users/yunkihun/memtherscan/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/yunkihun/memtherscan/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import'./../../App.css';import React,{useState}from'react';import Header from'../../Components/Header';import styled from'styled-components';import Modal from'../../Components/Modal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UploadWrapper=styled.section(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 10px;\\n  width: 80%;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: 10px;\\n  margin-bottom: 10px;\\n  border: solid 0.1em;\\n  border-radius: 10px;\\n  border-color: black;\\n\"])));var SubmitWrapper=styled.section(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  padding: 10px;\\n  width: 80%;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: 10px;\\n  margin-bottom: 10px;\\n\"])));function FileUploadPage(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),selectedFile=_useState2[0],setSelectedFile=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isFilePicked=_useState4[0],setIsFilePicked=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isUploadSuccessful=_useState6[0],setIsUploadSuccessful=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isUploadSubmitted=_useState8[0],setIsUploadSubmitted=_useState8[1];var changeHandler=function changeHandler(event){setSelectedFile(event.target.files[0]);setIsFilePicked(true);};var handleSubmission=function handleSubmission(){setIsUploadSubmitted(true);var formData=new FormData();formData.append('file',selectedFile);var BASE_URL='https://crypto-meme-server-k5sr2csqpa-ue.a.run.app';fetch(BASE_URL+'/upload',{method:'POST',body:formData}).then(function(response){return response.json();}).then(function(result){console.log('Success:',result);setIsUploadSuccessful(true);}).catch(function(error){console.error('Error:',error);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[isUploadSuccessful&&/*#__PURE__*/_jsx(Modal,{close:function close(){return setIsUploadSuccessful(!isUploadSuccessful);},children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',padding:'8px'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',color:'white'},children:\"Submission Complete!\"})})}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(UploadWrapper,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"file\",onChange:changeHandler}),isFilePicked?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Filename: \",selectedFile.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Size in bytes: \",selectedFile.size]})]}):/*#__PURE__*/_jsx(\"p\",{})]}),/*#__PURE__*/_jsxs(SubmitWrapper,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmission,children:\"Submit\"})}),/*#__PURE__*/_jsx(\"div\",{children:isUploadSuccessful?/*#__PURE__*/_jsx(\"div\",{children:\"Upload Complete!\"}):isUploadSubmitted?/*#__PURE__*/_jsx(\"div\",{children:\"Uploading...\"}):/*#__PURE__*/_jsx(_Fragment,{})})]})]})]});}export default FileUploadPage;","map":{"version":3,"names":["React","useState","Header","styled","Modal","UploadWrapper","section","SubmitWrapper","FileUploadPage","selectedFile","setSelectedFile","isFilePicked","setIsFilePicked","isUploadSuccessful","setIsUploadSuccessful","isUploadSubmitted","setIsUploadSubmitted","changeHandler","event","target","files","handleSubmission","formData","FormData","append","BASE_URL","fetch","method","body","then","response","json","result","console","log","catch","error","display","flexDirection","alignItems","padding","width","color","name","size"],"sources":["/Users/yunkihun/memtherscan/src/Pages/Upload/index.js"],"sourcesContent":["import './../../App.css'\nimport React, { useState } from 'react'\nimport Header from '../../Components/Header'\nimport styled from 'styled-components'\nimport Modal from '../../Components/Modal'\n\nconst UploadWrapper = styled.section`\n  padding: 10px;\n  width: 80%;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  border: solid 0.1em;\n  border-radius: 10px;\n  border-color: black;\n`\n\nconst SubmitWrapper = styled.section`\n  padding: 10px;\n  width: 80%;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 10px;\n  margin-bottom: 10px;\n`\n\nfunction FileUploadPage() {\n  const [selectedFile, setSelectedFile] = useState()\n  const [isFilePicked, setIsFilePicked] = useState(false)\n  const [isUploadSuccessful, setIsUploadSuccessful] = useState(false)\n  const [isUploadSubmitted, setIsUploadSubmitted] = useState(false)\n\n  const changeHandler = (event) => {\n    setSelectedFile(event.target.files[0])\n    setIsFilePicked(true)\n  }\n\n  const handleSubmission = () => {\n    setIsUploadSubmitted(true)\n    const formData = new FormData()\n\n    formData.append('file', selectedFile)\n\n    const BASE_URL = 'https://crypto-meme-server-k5sr2csqpa-ue.a.run.app'\n    fetch(BASE_URL + '/upload', {\n      method: 'POST',\n      body: formData,\n    })\n      .then((response) => response.json())\n      .then((result) => {\n        console.log('Success:', result)\n        setIsUploadSuccessful(true)\n      })\n      .catch((error) => {\n        console.error('Error:', error)\n      })\n  }\n\n  return (\n    <>\n      {isUploadSuccessful && (\n        <Modal close={() => setIsUploadSuccessful(!isUploadSuccessful)}>\n          <div\n            style={{\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n              padding: '8px',\n            }}\n          >\n            <div style={{ width: '100%', color: 'white' }}>\n              Submission Complete!\n              {/* <div>Check out the meme you just uploaded\n                <a href='/'>here</a>\n              </div> */}\n            </div>\n          </div>\n        </Modal>\n      )}\n      <Header></Header>\n      <div>\n        <UploadWrapper>\n          <input type=\"file\" name=\"file\" onChange={changeHandler} />\n          {isFilePicked ? (\n            <div>\n              <p>Filename: {selectedFile.name}</p>\n              {/* <p>Filetype: {selectedFile.type}</p> */}\n              <p>Size in bytes: {selectedFile.size}</p>\n              {/* <p>\n                lastModifiedDate:{\" \"}\n                {selectedFile.lastModifiedDate.toLocaleDateString()}\n              </p> */}\n            </div>\n          ) : (\n            <p></p>\n          )}\n        </UploadWrapper>\n        <SubmitWrapper>\n          <div>\n            <button onClick={handleSubmission}>Submit</button>\n          </div>\n          <div>\n            {isUploadSuccessful ? (\n              <div>Upload Complete!</div>\n            ) : isUploadSubmitted ? (\n              <div>Uploading...</div>\n            ) : (\n              <></>\n            )}\n          </div>\n        </SubmitWrapper>\n      </div>\n    </>\n  )\n}\n\nexport default FileUploadPage\n"],"mappings":"uRAAA,MAAO,iBAAP,CACA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,OAAP,KAAmB,yBAAnB,CACA,MAAOC,OAAP,KAAmB,mBAAnB,CACA,MAAOC,MAAP,KAAkB,wBAAlB,C,6IAEA,GAAMC,cAAa,CAAGF,MAAM,CAACG,OAAV,sQAAnB,CAYA,GAAMC,cAAa,CAAGJ,MAAM,CAACG,OAAV,gMAAnB,CASA,QAASE,eAAT,EAA0B,CACxB,cAAwCP,QAAQ,EAAhD,wCAAOQ,YAAP,eAAqBC,eAArB,eACA,eAAwCT,QAAQ,CAAC,KAAD,CAAhD,yCAAOU,YAAP,eAAqBC,eAArB,eACA,eAAoDX,QAAQ,CAAC,KAAD,CAA5D,yCAAOY,kBAAP,eAA2BC,qBAA3B,eACA,eAAkDb,QAAQ,CAAC,KAAD,CAA1D,yCAAOc,iBAAP,eAA0BC,oBAA1B,eAEA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,KAAD,CAAW,CAC/BR,eAAe,CAACQ,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAD,CAAf,CACAR,eAAe,CAAC,IAAD,CAAf,CACD,CAHD,CAKA,GAAMS,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAC7BL,oBAAoB,CAAC,IAAD,CAApB,CACA,GAAMM,SAAQ,CAAG,GAAIC,SAAJ,EAAjB,CAEAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBf,YAAxB,EAEA,GAAMgB,SAAQ,CAAG,oDAAjB,CACAC,KAAK,CAACD,QAAQ,CAAG,SAAZ,CAAuB,CAC1BE,MAAM,CAAE,MADkB,CAE1BC,IAAI,CAAEN,QAFoB,CAAvB,CAAL,CAIGO,IAJH,CAIQ,SAACC,QAAD,QAAcA,SAAQ,CAACC,IAAT,EAAd,EAJR,EAKGF,IALH,CAKQ,SAACG,MAAD,CAAY,CAChBC,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBF,MAAxB,EACAlB,qBAAqB,CAAC,IAAD,CAArB,CACD,CARH,EASGqB,KATH,CASS,SAACC,KAAD,CAAW,CAChBH,OAAO,CAACG,KAAR,CAAc,QAAd,CAAwBA,KAAxB,EACD,CAXH,EAYD,CAnBD,CAqBA,mBACE,2BACGvB,kBAAkB,eACjB,KAAC,KAAD,EAAO,KAAK,CAAE,uBAAMC,sBAAqB,CAAC,CAACD,kBAAF,CAA3B,EAAd,uBACE,YACE,KAAK,CAAE,CACLwB,OAAO,CAAE,MADJ,CAELC,aAAa,CAAE,QAFV,CAGLC,UAAU,CAAE,QAHP,CAILC,OAAO,CAAE,KAJJ,CADT,uBAQE,YAAK,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAT,CAAiBC,KAAK,CAAE,OAAxB,CAAZ,kCARF,EADF,EAFJ,cAoBE,KAAC,MAAD,IApBF,cAqBE,oCACE,MAAC,aAAD,yBACE,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,QAAQ,CAAEzB,aAAzC,EADF,CAEGN,YAAY,cACX,oCACE,kCAAcF,YAAY,CAACkC,IAA3B,GADF,cAGE,uCAAmBlC,YAAY,CAACmC,IAAhC,GAHF,GADW,cAWX,YAbJ,GADF,cAiBE,MAAC,aAAD,yBACE,kCACE,eAAQ,OAAO,CAAEvB,gBAAjB,oBADF,EADF,cAIE,qBACGR,kBAAkB,cACjB,yCADiB,CAEfE,iBAAiB,cACnB,qCADmB,cAGnB,kBANJ,EAJF,GAjBF,GArBF,GADF,CAwDD,CAED,cAAeP,eAAf"},"metadata":{},"sourceType":"module"}